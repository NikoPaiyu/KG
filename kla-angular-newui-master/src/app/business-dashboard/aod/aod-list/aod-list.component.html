<div class="row">
  <div class="col-md-12 col-sm-12 mb-2">
    <nz-breadcrumb>
      <nz-breadcrumb-item>
        {{"business-dashboard.question.dashboard" | translate}}
      </nz-breadcrumb-item>
      <nz-breadcrumb-item>
        <b>{{"business-dashboard.aod.aod-list.allotmentofdaysfilelist" | translate}} </b>
      </nz-breadcrumb-item>
    </nz-breadcrumb>
  </div>
</div>
<div class="sticky_action_bar">
<div class="row d-flex justify-content-space-between">
  <div class="col-md-6">
    <h2 class="admin-page-heading">{{"business-dashboard.aod.aod-list.allotmentofdaysfilelist" | translate}}</h2>
  </div>
</div>
<nz-divider></nz-divider>
</div>
<nz-tabset>
  <nz-tab nzTitle="{{'business-dashboard.aod.aod-list.pendinglist' | translate}}">
    <div class="row">
      <div class="col-md-4">
        <nz-form-item>
          <nz-form-control nzErrorTip="Select Assembly">
            <div class="row">
              <div class="col-md-4">
                <nz-form-label>{{"business-dashboard.aod.aod-list.assembly" | translate}}</nz-form-label>
              </div>
              <div class="col-md-8">
                <nz-select [(ngModel)]="filter.assemblyId" (ngModelChange)="filterAssembly()" name= "currentAssembly" nzPlaceHolder="Assembly">
                  <nz-option *ngFor="let assemblyItems of assemblyList" [nzLabel]="assemblyItems.assemblyId"
                  [nzValue]="assemblyItems.id"></nz-option>
                </nz-select>
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col-md-4">
        <nz-form-item>
          <nz-form-control nzErrorTip="Select Session">
            <div class="row">
              <div class="col-md-4">
                <nz-form-label>{{"business-dashboard.aod.aod-list.session" | translate}}</nz-form-label>
              </div>
              <div class="col-md-8">
                <nz-select [(ngModel)]="filter.sessionId" name= "currentSession" nzPlaceHolder="Session" (ngModelChange)="getList()">
                  <nz-option *ngFor="let sessionItems of sessionList" [nzLabel]="sessionItems.sessionId"
                    [nzValue]="sessionItems.id"></nz-option>
                </nz-select>
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <nz-table #rowSelectionTable [nzData]="aodList">
      <thead>
        <tr>
          <!-- <th nzShowCheckbox></th> -->
          <!-- <th nzShowSort nzSortKey="serialNo">
              serialNo
            </th> -->
          <!-- <th nzShowSort nzSortKey="fileId">
            FileId
          </th> -->
          <th nzShowSort nzSortKey="fileNumber">
            {{"business-dashboard.aod.aod-list.allotmentofdaysfilelist" | translate}}
          </th>
          <th nzShowSort nzSortKey="subject">
            {{"business-dashboard.aod.aod-list.subject" | translate}}
          </th>
          <th nzShowSort nzSortKey="type">
            {{"business-dashboard.aod.aod-list.type" | translate}}
          </th>
          <th nzShowSort nzSortKey="priority">
            {{"business-dashboard.aod.aod-list.priority" | translate}}
          </th>
          <th nzShowSort nzSortKey="status">
            {{"business-dashboard.aod.aod-list.status" | translate}}
          </th>
          <!-- <th nzShowSort nzSortKey="workflowId">
            WorkflowId
          </th> -->
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let data of rowSelectionTable.data; let i = index">
          <tr nz-popover nzType="primary" nzPopoverPlacement="left" [nzPopoverContent]="contentTemplate"
            (click)="viewFile(data.fileId)" style="cursor: pointer;">
            <ng-template #contentTemplate>
              <div>
                <span style="cursor:pointer" class="sortable" (click)="viewFile(data.fileId)">View</span>
              </div>
            </ng-template>
            <!-- <td nzShowCheckbox></td> -->
            <!-- <td>{{i+1}}</td> -->
            <!-- <td>{{data.fileId}}</td> -->
            <td>{{data.fileNumber}}</td>
            <td>{{data.subject}}</td>
            <td>{{data.type}}</td>
            <td>{{data.priority}}</td>
            <td>{{data.status}}</td>
            <!-- <td>{{data.workflowId}}</td> -->
          </tr>
        </ng-container>
      </tbody>
    </nz-table>
  </nz-tab>
  <nz-tab nzTitle="{{'business-dashboard.aod.aod-list.alllist' | translate}}">
    <div class="row">
      <div class="col-md-4">
        <nz-form-item>
          <nz-form-control nzErrorTip="Select Assembly">
            <div class="row">
              <div class="col-md-4">
                <nz-form-label>{{"business-dashboard.aod.aod-list.assembly" | translate}}</nz-form-label>
              </div>
              <div class="col-md-8">
                <nz-select [(ngModel)]="assemblyId" (ngModelChange)="filterAssembly2()" name= "currentAssembly" nzPlaceHolder="Assembly">
                  <nz-option *ngFor="let assemblyItems of assemblyList" [nzLabel]="assemblyItems.assemblyId"
                  [nzValue]="assemblyItems.id"></nz-option>
                </nz-select>
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
      </div>
      <div class="col-md-4">
        <nz-form-item>
          <nz-form-control nzErrorTip="Select Session">
            <div class="row">
              <div class="col-md-4">
                <nz-form-label>{{"business-dashboard.aod.aod-list.session" | translate}}</nz-form-label>
              </div>
              <div class="col-md-8">
                <nz-select [(ngModel)]="sessionId" name= "currentSession" nzPlaceHolder="Session" (ngModelChange)="getAll()">
                  <nz-option *ngFor="let sessionItems of sessionList2" [nzLabel]="sessionItems.sessionId"
                    [nzValue]="sessionItems.id"></nz-option>
                </nz-select>
              </div>
            </div>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <nz-table #rowSelectionTable2 [nzData]="allAodList">
      <thead>
        <tr>
          <!-- <th nzShowCheckbox></th> -->
          <!-- <th nzShowSort nzSortKey="serialNo">
              serialNo
            </th> -->
          <!-- <th nzShowSort nzSortKey="fileId">
            FileId
          </th> -->
          <th nzShowSort nzSortKey="fileNumber">
            {{"business-dashboard.aod.aod-list.allotmentofdaysfilelist" | translate}}
          </th>
          <th nzShowSort nzSortKey="subject">
            {{"business-dashboard.aod.aod-list.subject" | translate}}
          </th>
          <th nzShowSort nzSortKey="type">
            {{"business-dashboard.aod.aod-list.type" | translate}}
          </th>
          <th nzShowSort nzSortKey="priority">
            {{"business-dashboard.aod.aod-list.priority" | translate}}
          </th>
          <th nzShowSort nzSortKey="status">
            {{"business-dashboard.aod.aod-list.status" | translate}}
          </th>
          <!-- <th nzShowSort nzSortKey="workflowId">
            WorkflowId
          </th> -->
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let data of rowSelectionTable2.data; let i = index">
          <tr nz-popover nzType="primary" nzPopoverPlacement="left" [nzPopoverContent]="contentTemplate"
            (click)="viewFile(data.fileId)" style="cursor:pointer">
            <ng-template #contentTemplate>
              <div>
                <span style="cursor:pointer" class="sortable" (click)="viewAllfile(data.fileId)">View</span>
              </div>
            </ng-template>
            <!-- <td nzShowCheckbox></td> -->
            <!-- <td>{{i+1}}</td> -->
            <!-- <td>{{data.fileId}}</td> -->
            <td>{{data.fileNumber}}</td>
            <td>{{data.subject}}</td>
            <td>{{data.type}}</td>
            <td>{{data.priority}}</td>
            <td>{{data.status}}</td>
            <!-- <td>{{data.workflowId}}</td> -->
          </tr>
        </ng-container>
      </tbody>
    </nz-table>
  </nz-tab>
</nz-tabset>